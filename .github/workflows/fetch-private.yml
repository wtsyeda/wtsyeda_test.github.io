name: Fetch Private Repo Files (Without Making Public)

on: [push]

jobs:
  fetch-private-repo:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Public Repository
        uses: actions/checkout@v3

      - name: Clone Private Repository (Temporarily)
        env:
          GITHUB_TOKEN: ${{ secrets.PAT_TOKEN }}
        run: |
          git clone https://x-access-token:$GITHUB_TOKEN@github.com/wtsyeda/wtsyeda_private.git private-folder
          ls -la private-folder  # List files for debugging

      - name: Use Private Files (Optional)
        run: |
          if [ -f private-folder/sensitive-data.txt ]; then
            cat private-folder/sensitive-data.txt  # Use the file but DO NOT commit it
          else
            echo "File not found: private-folder/sensitive-data.txt"
            exit 1  # Fail the job if the file is missing
          fi

